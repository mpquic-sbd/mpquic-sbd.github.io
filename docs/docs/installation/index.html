<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.2 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-GB" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Install the Experimental Setup - MPQUIC-SBD</title>
<meta name="description" content="Instructions for installing the experimental in a Vagrant VM.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_GB">
<meta property="og:site_name" content="MPQUIC-SBD">
<meta property="og:title" content="Install the Experimental Setup">
<meta property="og:url" content="http://localhost:4000/docs/installation/">


  <meta property="og:description" content="Instructions for installing the experimental in a Vagrant VM.">







  <meta property="article:published_time" content="2024-12-26T18:16:21-05:00">






<link rel="canonical" href="http://localhost:4000/docs/installation/">







  <meta name="google-site-verification" content="UQj93ERU9zgECodaaXgVpkjrFn9UrDMEzVamacSoQ8Y" />






<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="MPQUIC-SBD Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  window.enable_copy_code_button = true;
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          MPQUIC-SBD
          <span class="site-subtitle">MultiPath QUIC with Shared Bottleneck Detection</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/docs/howto/"
                
                
              >Quick-Start Guide</a>
            </li><li class="masthead__menu-item">
              <a
                href="/publications/"
                
                
              >Publications</a>
            </li><li class="masthead__menu-item">
              <a
                href="/acknowledgement/"
                
                
              >Acknowledgement</a>
            </li><li class="masthead__menu-item">
              <a
                href="/lab/"
                
                
              >PANDA lab</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      <nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      
      
        <li>
          
            <span class="nav__sub-title">Getting Started</span>
          

          
          <ul>
            
              <li><a href="/docs/installation/" class="active">Install the experimental setup</a></li>
            
              <li><a href="/docs/video/">Prepare the video files</a></li>
            
              <li><a href="/docs/video-server/">Configure the video server</a></li>
            
              <li><a href="/docs/run-client-server/">Run the video server application</a></li>
            
          </ul>
          
        </li>
      
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Install the Experimental Setup">
    <meta itemprop="description" content="Instructions for installing the experimental in a Vagrant VM.">
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="http://localhost:4000/docs/installation/" itemprop="url">Install the Experimental Setup
</a>
          </h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#repository-structure">Repository Structure</a></li><li><a href="#install-build-and-run-from-a-vagrant-vm">Install, build, and run from a Vagrant VM</a><ul><li><a href="#step-1-requirements">Step 1: Requirements</a></li><li><a href="#step-2-build-the-vagrant-vm">Step 2: Build the Vagrant VM</a></li><li><a href="#step-3-run-the-vagrant-vm">Step 3: Run the Vagrant VM</a></li></ul></li><li><a href="#building-the-applications-individually">Building the Applications Individually</a><ul><li><a href="#mpquic-sbd">MPQUIC-SBD</a></li><li><a href="#caddy-server">Caddy Server</a></li><li><a href="#client-proxy-module">Client Proxy Module</a></li></ul></li></ul></li></ul>
            </nav>
          </aside>
        
        <h3 id="repository-structure">Repository Structure</h3>

<p>The MPQUIC-SBD <a href="https://github.com/thomaswpp/mpquic-sbd">repository</a> contains the following source code structure:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MPQUIC-SBD
├── build.sh                     <span class="c"># Script to compile the code in /src</span>
├── example                      <span class="c"># Files and scripts for video processing</span>
├── network/mininet              <span class="c"># Network scenarios for Mininet emulations</span>
├── src                         
|   └── quic-go                  <span class="c"># MPQUIC (Golang) extended to support SBD</span>
|   └── caddy                    <span class="c"># Caddy Web Server (Golang)</span>
|   └── AStream                  <span class="c"># A DASH player emulator (Python)</span>
|   └── dash                 
|   |   └── client/proxy_module  <span class="c"># Client-side proxy module shared object (.so)</span>
</code></pre></div></div>

<p>All source code files are designed to run on 64-bit Linux hosts.</p>

<hr />

<h3 id="install-build-and-run-from-a-vagrant-vm">Install, build, and run from a Vagrant VM</h3>

<p>Following Steps 1, 2, and 3 below provides an easy way to run MPQUIC-SBD.</p>

<hr />
<h4 id="step-1-requirements">Step 1: Requirements</h4>
<p>First, install <a href="https://developer.hashicorp.com/vagrant/install">Vagrant</a> and <a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a> on your host system.</p>

<hr />
<h4 id="step-2-build-the-vagrant-vm">Step 2: Build the Vagrant VM</h4>
<p>To clone our repository and build the VM, run the following commands:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">cd</span> ~
 git clone https://github.com/mpquic-sbd/mpquic-sbd-vagrant.git
 <span class="nb">cd </span>mpquic-sbd-vagrant
 sh setup.sh
</code></pre></div></div>

<p class="notice--warning"><strong>Warning:</strong> <strong>Do not run <code class="language-plaintext highlighter-rouge">sh setup.sh</code> again</strong>; otherwise, it will overwrite the Vagrant base system.</p>

<p class="notice--info"><strong>Building:</strong> Using the Vagrant configuration file (<code class="language-plaintext highlighter-rouge">VBox/Vagrantfile</code>) provided below, the VM will be provisioned with 4GB of RAM and a 2-core CPU, with Ubuntu 18.04 LTS (Bionic Beaver) inside, which you can adjust as needed. Software packages will be automatically installed via the <code class="language-plaintext highlighter-rouge">VBox/install.sh script</code>. This ensures that the build process correctly installs Go 1.12, MPQUIC-SBD, the AStream Video Streaming Emulator, the Caddy Web Server, and Mininet.”</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ENV[<span class="s1">'VAGRANT_DEFAULT_PROVIDER'</span><span class="o">]</span> <span class="o">=</span> <span class="s1">'virtualbox'</span>

Vagrant.configure<span class="o">(</span><span class="s2">"2"</span><span class="o">)</span> <span class="k">do</span> |config|

  config.vm.box <span class="o">=</span> <span class="s2">"ubuntu/bionic64"</span>
  config.ssh.forward_agent <span class="o">=</span> <span class="nb">true
  </span>config.ssh.forward_x11 <span class="o">=</span> <span class="nb">true

  </span>config.vm.synced_folder <span class="s2">"../Workstation"</span>, <span class="s2">"/Workstation"</span>

  config.vm.provider <span class="s2">"virtualbox"</span> <span class="k">do</span> |vb|
    <span class="c"># vb.gui = true</span>
    vb.memory <span class="o">=</span> <span class="s2">"4000"</span>  <span class="c"># in MB</span>
    vb.cpus <span class="o">=</span> <span class="s2">"4"</span>
  end

  config.vm.provision :shell, path: <span class="s2">"install.sh"</span>, privileged: <span class="nb">false
</span>end
</code></pre></div></div>

<p>After building, the experimental setup is located in the <code class="language-plaintext highlighter-rouge">mpquic-sbd-vagrant/Workstation</code> directory of your running VM and follows this structure:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># At your mpquic-sbd-vagrant/Workspace folder</span>
├── Workspace
|   ├── mpquic-sbd
|   |   |   ├── example           <span class="c"># Files and scripts for video processing</span>
|   |   |   ├── network/mininet   <span class="c"># Network scenarios for Mininet emulations</span>
|   |   |   ├── /src              <span class="c"># Source files of the experimental setup</span>
|   |   |   ├── ...               <span class="c"># Other files</span>
</code></pre></div></div>

<hr />
<h4 id="step-3-run-the-vagrant-vm">Step 3: Run the Vagrant VM</h4>

<p>Assuming the <code class="language-plaintext highlighter-rouge">mpquic-sbd-vagrant</code> folder is located in your <code class="language-plaintext highlighter-rouge">/home/&lt;user&gt;/</code> directory, navigate to the <code class="language-plaintext highlighter-rouge">VBox</code> folder, reload the virtual machine, and connect to it. Then, run the following commands:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">cd</span> ~
 <span class="nb">cd </span>mpquic-sbd-vagrant/VBox
 vagrant reload
 vagrant ssh
</code></pre></div></div>

<hr />

<h3 id="building-the-applications-individually">Building the Applications Individually</h3>

<p class="notice--warning"><strong>Warning: If you ran <code class="language-plaintext highlighter-rouge">setup.sh</code> in Step 2, you already built everything using <code class="language-plaintext highlighter-rouge">./build.sh</code>, then you’re all set.</strong> However, if you prefer to build the applications individually for any reason, follow the instructions below.</p>

<p>The Go modules are implemented using Go version 1.12. In this setup, the modules are built <em>outside</em> the <code class="language-plaintext highlighter-rouge">GOPATH</code>, with the local configuration redirecting module dependencies to their local implementations.</p>

<h5 id="mpquic-sbd">MPQUIC-SBD</h5>
<p>To build MPQUIC-SBD, run:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">cd</span> /Workstation/mpquic-sbd/src/quic-go
 go build ./...
</code></pre></div></div>

<p>The Go modules allow recursive builds, so this module does not need to be built explicitly in most cases. The MPQUIC module can be referenced by other Go modules through their <code class="language-plaintext highlighter-rouge">go.mod</code> files.</p>

<h5 id="caddy-server">Caddy Server</h5>
<p>To build the Caddy server, run:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">cd</span> /Workstation/mpquic-sbd/src/dash/caddy
 go build
</code></pre></div></div>

<h5 id="client-proxy-module">Client Proxy Module</h5>
<p>To enable MPQUIC (in Go) to work transparently underneath the AStream DASH player (in Python), build the client proxy module as a shared object (<code class="language-plaintext highlighter-rouge">.so</code>):</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">cd</span> /Workstation/mpquic-sbd/src/dash/client/proxy_module
 go build <span class="nt">-o</span> proxy_module.so <span class="nt">-buildmode</span><span class="o">=</span>c-shared proxy_module.go
</code></pre></div></div>

<p>After building the proxy module, copy the AStream dependencies. You may also need to update the path in line 5 of <code class="language-plaintext highlighter-rouge">src/dash/client/proxy_module/conn.py</code>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">cd</span> /Workstation/mpquic-sbd
 <span class="nb">cp </span>src/dash/client/proxy_module/proxy_module.h src/AStream/dist/client/
 <span class="nb">cp </span>src/dash/client/proxy_module/proxy_module.so src/AStream/dist/client/
 <span class="nb">cp </span>src/dash/client/proxy_module/conn.py src/AStream/dist/client/
</code></pre></div></div>

        
      </section>

      <footer class="page__meta">
        
        


        

      </footer>

      

      
  <nav class="pagination">
    
      <a href="/docs/howto/" class="pagination--pager" title="How to run MPQUIC-SBD">Previous</a>
    
    
      <a href="/docs/prepared-vm/" class="pagination--pager" title="1:">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><div class="search-searchbar"></div>
  <div class="search-hits"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/mmistakes" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/mmistakes" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://instagram.com/mmistakes" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2024 <a href="http://localhost:4000">MPQUIC-SBD</a>. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/jekyll-themes/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>


<script>
// Including InstantSearch.js library and styling
const loadSearch = function() {
  const loadCSS = function(src) {
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = src;
    link.media = 'all';
    document.head.appendChild(link);
  };

  var script = document.createElement('script');
  script.setAttribute("type", "text/javascript");
  script.setAttribute("src", "https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch.min.js");
  script.addEventListener("load", function() {
    // Instantiating InstantSearch.js with Algolia credentials
    const search = instantsearch({
      appId: 'QB6HVGBSBA',
      apiKey: '9d5014e5bbc77372547bce778dfa5663',
      indexName: 'minimal_mistakes',
      searchParameters: {
        restrictSearchableAttributes: ['title', 'content']
      }
    });

    const hitTemplate = function(hit) {
      const url = hit.url;
      const hightlight = hit._highlightResult;
      const title = hightlight.title && hightlight.title.value  || "";
      const content = hightlight.html && hightlight.html.value  || "";

      return `
        <div class="list__item">
          <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
            <h2 class="archive__item-title" itemprop="headline"><a href="/${url}">${title}</a></h2>
            <div class="archive__item-excerpt" itemprop="description">${content}</div>
          </article>
        </div>
      `;
    }

    // Adding searchbar and results widgets
    search.addWidget(
      instantsearch.widgets.searchBox({
        container: '.search-searchbar',
        poweredBy: true,
        placeholder: 'Enter your search term...'
      })
    );
    search.addWidget(
      instantsearch.widgets.hits({
        container: '.search-hits',
        templates: {
          item: hitTemplate,
          empty: 'No results',
        }
      })
    );

    if (!search.started) {
      search.start();
    }
  });
  document.body.appendChild(script);

  loadCSS("https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch.min.css");
  loadCSS("https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch-theme-algolia.min.css");
};

// Starting the search only when toggle is clicked
$(document).ready(function() {
  var scriptLoaded = false;

  $(".search__toggle").on("click", function() {
    if (!scriptLoaded) {
      loadSearch();
      scriptLoaded = true;
    }
  });
});
</script>







  </body>
</html>
